# 配列を用いたサンプル




### Eight Queen

```
// 8queen.txt
// Eight Queen

// 以下ではクイーンを配置するセルの座標を (x,y) と表現する。
// 盤面の左上のセルの座標は (0,0) とする。

// pos はクイーンを配置する位置を格納する配列。
// クイーンのy座標に対応するx座標を格納する。
//    pos[y]=x
// こうすることで、同じ y座標には必ず一つのクイーンの座標のみとなることが保障されることに注意。

var pos [8]Int

// 制約１：pos に格納する値は互いに一意な整数
Assert(Distinct(pos[0],pos[1],pos[2],pos[3],pos[4],pos[5],pos[6],pos[7]))

// 制約２：pos に格納する値は 0以上8未満の整数であること。
for i:=0; i<8; i++ {
    Assert(pos[i]>=0 && pos[i]<8)
}

// 制約３：右上がりの位置にクイーンを配置してはならない。
//    右上がりに二つのクイーンを配置した場合は x+y が同じ値となる。
//    クイーン１の位置を (x1,y1)、クイーン２の位置を (x2,y2) とすると、
//    x1+y1 != x2+y2
//    pos を使うと、
//    pos[y1]+y1 != pos[y2]+y2
//    変形して、
//    pos[y1]-pos[y2] != y2-y1
//
// 制約４：右下がりの位置にクイーンを配置してはならない。
//    右下がりに二つのクイーンを配置した場合は x-y が同じ値となる。
//    クイーン１の位置を (x1,y1)、クイーン２の位置を (x2,y2) とすると、
//    x1-y1 != x2-y2
//    pos を使うと、
//    pos[y1]-y1 != pos[y2]-y2
//    変形して、
//    pos[y2]-pos[y1] != y2-y1

for i:=0; i<8; i++ {     // クイーン１のy座標
    for j:=0; j<8; j++ { // クイーン２のy座標
        if i!=j {
            n := IntVal(j-i)
            Assert(pos[i]-pos[j] != n && pos[j]-pos[i] != n)
        }
    }
}

Solve(pos)

/*
    解答例
    0, 0, 0, Q, 0, 0, 0, 0
    0, Q, 0, 0, 0, 0, 0, 0
    0, 0, 0, 0, 0, 0, 0, Q
    0, 0, 0, 0, 0, Q, 0, 0
    Q, 0, 0, 0, 0, 0, 0, 0
    0, 0, Q, 0, 0, 0, 0, 0
    0, 0, 0, 0, Q, 0, 0, 0
    0, 0, 0, 0, 0, 0, Q, 0
*/
```

実行例

```
C:\work\>sh run.sh 8queen.txt
pos[0] = 3
pos[1] = 1
pos[2] = 7
pos[3] = 5
pos[4] = 0
pos[5] = 2
pos[6] = 4
pos[7] = 6
```
